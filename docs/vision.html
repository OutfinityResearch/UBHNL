<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>UBHNL — Vision</title>
    <link rel="stylesheet" href="site.css" />
      <script src="site-nav.js" defer></script>
  </head>
  <body>
    <header>
      <h1>UBHNL — Vision and direction</h1>
      <p>A universal reasoning engine: minimal kernel + backends + certificates + explanations.</p>
    </header>
    <main>
      <div class="card">
        <div class="draft">DRAFT: narrative description. The target architecture is explicit; implementation is still in progress.</div>

        <div class="nav">
          <a href="index.html">Docs Index</a>
          <a href="architecture.html">Architecture</a>
          <a href="languages.html">Lexicon/CNL/DSL</a>
          <a href="session-api.html">Session API</a>
          <a href="reasoning.html">Reasoning</a>
          <a href="examples.html">Examples</a>
          <a href="wiki/index.html">Wiki</a>
          <a href="theory/index.html">Theory</a>
        </div>

        <h2>What we want to build</h2>
        <p>UBHNL is designed as a system that can:</p>
        <ul>
          <li><code>learn</code>: load theories (CNL/DSL files) and incrementally add knowledge in a session.</li>
          <li><code>query</code>: answer satisfiability, entailment (prove/refute), enumeration, counting, optimization, and synthesis goals.</li>
          <li><code>explain</code>: produce explanations in terms of the user vocabulary (file origins), not in terms of “wire ids”.</li>
          <li><code>audit</code>: accept only checkable results (witness/certificate), otherwise report <code>UNKNOWN</code> explicitly.</li>
        </ul>

        <h2>Design principles</h2>
        <div class="table-wrap">
          <table>
            <thead>
              <tr><th>Principle</th><th>Consequence</th></tr>
            </thead>
            <tbody>
              <tr>
                <td>Small trusted core</td>
                <td>UBH kernel + checkers; backends can be complex and even “untrusted”, but results are accepted only with certificates.</td>
              </tr>
              <tr>
                <td>Determinism</td>
                <td>Deterministic parsing/typing; unknown symbol = load error; no “implicit new symbol”.</td>
              </tr>
              <tr>
                <td>Fragment-first</td>
                <td>“What problem do we have?” (fragment) is separated from “how do we solve it?” (backend/tactic).</td>
              </tr>
              <tr>
                <td>UBH as an anchor</td>
                <td>UBH is the bit-level lingua franca for many encodings and for checking, but not everything should be compiled to UBH.</td>
              </tr>
              <tr>
                <td>Memory: files + session</td>
                <td>Theory files (DSL/CNL) are long-term; the session is short-term and caches artifacts; it can be reconstructed from files.</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h2>System diagram</h2>
        <svg viewBox="0 0 900 450" width="100%" height="auto" role="img" aria-label="System diagram">
          <rect x="60" y="10" width="300" height="44" rx="12" fill="#ffffff" stroke="#d6d0c6" />
          <text x="210" y="30" text-anchor="middle" font-family="IBM Plex Sans, Arial" font-size="13">Theory files (long-term)</text>
          <text x="210" y="45" text-anchor="middle" font-family="IBM Plex Sans, Arial" font-size="12" fill="#5a534b">*.sys2 / *.cnl</text>

          <rect x="540" y="10" width="300" height="44" rx="12" fill="#ffffff" stroke="#d6d0c6" />
          <text x="690" y="30" text-anchor="middle" font-family="IBM Plex Sans, Arial" font-size="13">Session delta (short-term)</text>
          <text x="690" y="45" text-anchor="middle" font-family="IBM Plex Sans, Arial" font-size="12" fill="#5a534b">learn(...) inputs</text>

          <rect x="160" y="70" width="580" height="48" rx="12" fill="#ffffff" stroke="#d6d0c6" />
          <text x="450" y="90" text-anchor="middle" font-family="IBM Plex Sans, Arial" font-size="13">Parse/type (strict vocab + origins)</text>
          <text x="450" y="106" text-anchor="middle" font-family="IBM Plex Sans, Arial" font-size="12" fill="#5a534b">deterministic typing and symbol checks</text>

          <rect x="260" y="130" width="380" height="40" rx="12" fill="#ffffff" stroke="#d6d0c6" />
          <text x="450" y="155" text-anchor="middle" font-family="IBM Plex Sans, Arial" font-size="13">Typed semantic IR</text>

          <rect x="210" y="180" width="480" height="40" rx="12" fill="#ffffff" stroke="#d6d0c6" />
          <text x="450" y="205" text-anchor="middle" font-family="IBM Plex Sans, Arial" font-size="13">Fragment detection + GoalKind normalization</text>

          <rect x="210" y="230" width="480" height="40" rx="12" fill="#ffffff" stroke="#d6d0c6" />
          <text x="450" y="255" text-anchor="middle" font-family="IBM Plex Sans, Arial" font-size="13">Orchestrator builds plan DAG</text>

          <rect x="190" y="285" width="520" height="44" rx="12" fill="#ffffff" stroke="#d6d0c6" />
          <text x="450" y="305" text-anchor="middle" font-family="IBM Plex Sans, Arial" font-size="13">Backends (SAT/UBH, SMT, MC/IC3, ...)</text>
          <text x="450" y="321" text-anchor="middle" font-family="IBM Plex Sans, Arial" font-size="12" fill="#5a534b">return witness or certificate</text>

          <rect x="210" y="340" width="480" height="44" rx="12" fill="#ffffff" stroke="#d6d0c6" />
          <text x="450" y="366" text-anchor="middle" font-family="IBM Plex Sans, Arial" font-size="13">Certificate checkers (trusted core)</text>

          <rect x="210" y="395" width="480" height="44" rx="12" fill="#ffffff" stroke="#d6d0c6" />
          <text x="450" y="421" text-anchor="middle" font-family="IBM Plex Sans, Arial" font-size="13">Result + explanation (origins)</text>

          <path d="M210 54 L450 70" stroke="#2f5d50" stroke-width="2.5" />
          <path d="M690 54 L450 70" stroke="#2f5d50" stroke-width="2.5" />

          <path d="M450 118 L450 130" stroke="#2f5d50" stroke-width="2.5" />
          <polygon points="450,130 444,122 456,122" fill="#2f5d50" />
          <path d="M450 170 L450 180" stroke="#2f5d50" stroke-width="2.5" />
          <polygon points="450,180 444,172 456,172" fill="#2f5d50" />
          <path d="M450 220 L450 230" stroke="#2f5d50" stroke-width="2.5" />
          <polygon points="450,230 444,222 456,222" fill="#2f5d50" />
          <path d="M450 270 L450 285" stroke="#2f5d50" stroke-width="2.5" />
          <polygon points="450,285 444,277 456,277" fill="#2f5d50" />
          <path d="M450 329 L450 340" stroke="#2f5d50" stroke-width="2.5" />
          <polygon points="450,340 444,332 456,332" fill="#2f5d50" />
          <path d="M450 384 L450 395" stroke="#2f5d50" stroke-width="2.5" />
          <polygon points="450,395 444,387 456,387" fill="#2f5d50" />
        </svg>

        <h2>Why UBH (in one sentence)</h2>
        <p>
          UBH is a minimal representation of Boolean constraints as a circuit (XOR/AND/CONST) with a GF(2) interpretation, enabling structural
          compression (hash-consing) and efficient reasoning (SAT + native XOR equations).
        </p>

        <h2>What “universal” means here</h2>
        <ul>
          <li><strong>universal as a substrate</strong>: many finite theories can be reduced to bits (BV, finite domains, bounded TS) and end up in UBH/SAT;</li>
          <li><strong>universal as orchestration</strong>: when compilation is not efficient (MIP/SDP/NRA), keep a native backend and verify its certificates;</li>
          <li><strong>universal as auditability</strong>: “hard” results are accepted only with checkable certificates.</li>
        </ul>

        <h2>Links (normative specs)</h2>
        <ul>
          <li><a href="mdview.html?file=specs/src/system-spec.md">System Spec</a></li>
          <li><a href="mdview.html?file=specs/UBH-SPEC.md">UBH Kernel Spec</a></li>
          <li><a href="mdview.html?file=specs/DS/DS10-fragments-goals.md">DS-010 Fragments</a></li>
          <li><a href="mdview.html?file=specs/DS/DS11-backends-certificates.md">DS-011 Backends/Certificates</a></li>
          <li><a href="mdview.html?file=specs/DS/DS12-orchestrator-planner.md">DS-012 Orchestrator</a></li>
        </ul>
      </div>
    </main>
  </body>
</html>
