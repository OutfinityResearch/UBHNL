<!doctype html>
<html lang="ro">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Wiki: Lexicon</title>
    <link rel="stylesheet" href="../../site.css" />
  </head>
  <body>
    <header>
      <h1>Lexicon (vocabular + tipuri)</h1>
      <p>Sursa de adevăr pentru simboluri: domenii finite, constante, predicate, alias-uri.</p>
    </header>
    <main>
      <div class="card">
        <div class="draft">DRAFT: pagină de Wiki.</div>

        <div class="nav">
          <a href="../index.html">Wiki</a>
          <a href="../../languages.html">Docs: Languages</a>
          <a href="cnl.html">CNL</a>
          <a href="dsl.html">DSL</a>
          <a href="../../mdview.html?file=specs/DS/005-cnl-lexicon.md">DS-005</a>
        </div>

        <h2>Definiție</h2>
        <p>
          <strong>Lexicon</strong> (în UBHNL) este un fișier de configurare (tipic JSON) care definește:
          <strong>tipurile</strong> (domenii), <strong>constantele</strong> și <strong>predicatele</strong>.
          El este baza pentru typing și pentru politica “vocabular strict”.
        </p>

        <h2>De ce este “sursă de adevăr”</h2>
        <ul>
          <li>Determinism: input identic + lexicon identic ⇒ semantic IR identic.</li>
          <li>Fără lexicon nu există typing robust; fără typing, “CNL/DSL” devin ambigue și fragile.</li>
          <li>Politică de siguranță: un simbol necunoscut este <strong>eroare</strong>, nu “creare implicită”.</li>
        </ul>

        <h2>Structură minimală (exemplu)</h2>
        <pre><code>{
  "domains": { "Cell": ["c0", "c1"] },
  "constants": { "c0": "Cell", "c1": "Cell" },
  "predicates": {
    "geneA": { "arity": 1, "args": ["Cell"] },
    "proteinP": { "arity": 1, "args": ["Cell"] }
  },
  "aliases": { "protein p": "proteinP" }
}</code></pre>

        <h2>Invariante (ce verifică loader-ul)</h2>
        <ul>
          <li>Tipurile menționate există (în <code>domains</code> sau <code>builtins</code> unde e cazul).</li>
          <li>Constantele au tip valid și apar în domeniul lor (sau domeniul e tratat ca autoritativ).</li>
          <li>Predicatele au <code>arity</code> și lista de tipuri <code>args</code> consistente.</li>
          <li>Alias-urile nu se ciocnesc cu nume canonice și sunt rezolvate determinist.</li>
        </ul>

        <h2>Reserved keywords</h2>
        <p>
          CNL/DSL rezervă cuvinte cheie (ex.: <code>forall</code>, <code>exists</code>, <code>and</code>, <code>or</code>, <code>not</code>, <code>implies</code>).
          Pentru predictibilitate, lexicon-ul trebuie să evite folosirea lor ca identificatori (sau să ceară quoting, dacă se suportă).
        </p>

        <h2>Consecințe inginerești</h2>
        <ul>
          <li>Teoriile (fișiere CNL/DSL) devin “compilabile” și auditable: orice token are o semnificație tipată.</li>
          <li>Explicațiile pot fi tipărite în vocabularul userului: “proteinP(c0)” nu “wire 123”.</li>
        </ul>

        <h2>Spec-uri relevante</h2>
        <ul>
          <li><a href="../../mdview.html?file=specs/DS/005-cnl-lexicon.md">DS-005</a> (schema + reguli)</li>
          <li><a href="../../mdview.html?file=specs/tests/cnl-cases.md">CNL test cases</a></li>
          <li><a href="../../mdview.html?file=specs/tests/dsl-cases.md">DSL test cases</a></li>
        </ul>
      </div>
    </main>
  </body>
</html>

